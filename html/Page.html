<html>
<meta charset="UTF-8">
<head>
	<title>Rubics</title>

		<div id="gameMan">
			<h2>Use the arrow keys to navigate around the board and "WASD" keys to move the row and columns.</h2>
			<h2>Use "ESC" to return to this menu. Hit 'r' to save your board and try to make it.</h2>
		</div>

	<script type="text/javascript">
	function hideBut() {
        document.getElementById("resumeButton").style.display = 'none';
    }
    function selectionChanged(){
        let sizeSelector = document.getElementById("gameSize");
		let difficultySelector = document.getElementById("difficulty");
	    if(gameSize == Number(sizeSelector.options[sizeSelector.selectedIndex].value) &&
	    			difficulty == difficultySelector.options[difficultySelector.selectedIndex].innerHTML){
            document.getElementById("startButton").value = "Restart";
            document.getElementById("resumeButton").style.display = 'inline';
        }else{
            document.getElementById("startButton").value = "Start";
            document.getElementById("resumeButton").style.display = 'none';
        }
	}
	</script>

	<script src="../bower_components/file-saver/FileSaver.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/design.css">
</head>
<body onload="hideBut()">
	<table id="gameMenu" cellspacing="2" cellpadding="2">
		<tr>
			<td align="right">Game Size</td>
			<td>
			<div class="sizeButtons">
			<button id="three" onclick="setGameSize(this)" value=3></button>
			<button id="four" onclick="setGameSize(this)" value=4></button>
			<button id="five" onclick="setGameSize(this)" value=5></button>
			<button id="six" onclick="setGameSize(this)" value=6></button>
			</div>
				<!--<select id="gameSize" onchange="selectionChanged()">
					<option value=3>3</option>
					<option value=4>4</option>
					<option value=5>5</option>
					<option value=6>6</option>
				</select>-->
			</td>
		</tr>

		<tr>
			<td align="right">Selector Speed</td>
			<td>
				<select id="selSpeed">
					<option value=2>Slow</option>
					<option value=4>Medium</option>
					<option value=8>Fast</option>
					<option value=0>No Animation</option>
				</select>
			</td>
		</tr>

		<tr>
		
			<td align="right">Difficulty</td>
			<td>
				<select id="difficulty" onchange="selectionChanged()">
					<option>Easy</option>
					<option>Medium</option>
					<option>Hard</option>
					<option>Expert</option>
				</select>
			</td>
		
		</tr>
		<tr>
			<script type="text/javascript">
				//TODO:refurnish this, it's a shit structure
                function resumeGame() {
                    document.getElementById("gameMan").style.display = 'none';
                    let el = document.getElementById("gameSize");

                    if(gameSize == Number(el.options[el.selectedIndex].value)){
                        //hide menu
                        gameMenu = document.getElementById("gameMenu");
                        gameMenu.style.display = 'none';
                        movement = false;

                        el = document.getElementById("selSpeed");
                        selectorSpeed = Number(el.options[el.selectedIndex].value);

                        //show game canvas'
                        Rubics.gameCanvas.style.display = 'inline';
                        Rubics.infoCanvas.style.display = 'inline';
					}else{
                        startGame();
					}
                }
			</script>
			<td align="right"><button id="resumeButton" onclick="resumeGame()"><span>Resume</span></button></td>
			<td><button id="startButton" onclick="startGame()"><span>Start</span></button></td>
		</tr>

	</table>

    <script type="text/javascript" src="../js/InfoCanvas.js"></script>
    <script type="text/javascript" src="../js/script.js"></script>
	<script type="text/javascript" src="../js/EventController.js"></script>
	<script type="text/javascript" src="../js/Selector.js"></script>
</body>
</html>